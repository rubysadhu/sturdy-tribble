(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{182:function(t,e,r){"use strict";r.r(e);r(20),r(34);var n=r(5),o={asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,t.store,t.params,r.setHeader("x-hasura-admin-secret","soupnazi"),e.next=4,r.$post("https://hasura-3udj.onrender.com/v1/graphql",{query:"query GetMenuItems {\n            categories {\n              name\n              description\n              menus {\n                name\n                price\n                description\n                id\n              }\n            }\n          }"});case 4:return n=e.sent.data,e.abrupt("return",{menu:n});case 6:case"end":return e.stop()}}),e)})))()},data:function(){return{menu:null,summary:[],completeOrder:!1,showProductInfo:!1,currentProduct:{},notes:"",customerName:"",customerPhone:""}},methods:{addItem:function(t){var e=t;e.notes=this.notes,this.summary.push(e),this.closeModals(),this.notes=""},removeItem:function(t){this.summary.splice(t,1)},closeModals:function(){this.completeOrder=!1,this.showProductInfo=!1},getProduct:function(t){var e={name:t.name,description:t.description,price:t.price,notes:t.notes,id:t.id};this.currentProduct=e,this.showProductInfo=!0},placeOrder:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$axios.setHeader("x-hasura-admin-secret","soupnazi"),e.next=3,t.$axios.$post("https://hasura-3udj.onrender.com/v1/graphql",{query:'mutation MyMutation {\n          insert_pickup_orders_one(object: {confirmation_method: "SMS", customer_phone_number: "'.concat(t.customerPhone,'", customer_name: "').concat(t.customerName,'"}) {\n            id\n          }\n        }')});case 3:r=e.sent.data,t.joinTable(r.insert_pickup_orders_one.id);case 5:case"end":return e.stop()}}),e)})))()},joinTable:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.summary.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(element){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.$post("https://hasura-3udj.onrender.com/v1/graphql",{query:'mutation MyMutation {\n            insert_order_items(objects: {menu_id: "'.concat(element.id,'", order_id: ').concat(t,', notes: "').concat(element.notes,'"}) {\n              returning {\n                menu_id\n              }\n            }\n          }')});case 2:r.sent.data;case 3:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()}},computed:{totalSummary:function(){var t=0;return this.summary.forEach((function(e){t+=parseFloat(e.price)})),t}}},c=r(30),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.completeOrder||t.showProductInfo?r("div",{staticClass:"bg-gray-100 opacity-75",staticStyle:{left:"0",top:"0",position:"fixed",width:"100%",height:"100vh","z-index":"999"},attrs:{id:"overlay"},on:{click:t.closeModals}}):t._e(),t._v(" "),t.showProductInfo?r("div",{staticClass:"bg-white rounded p-6 shadow",staticStyle:{left:"50%",top:"20%",position:"fixed",width:"600px","margin-left":"-300px","z-index":"999"},attrs:{id:"product-info"}},[r("h3",{staticClass:"font-bold text-gray-800 text-xl"},[t._v(t._s(t.currentProduct.name))]),t._v(" "),r("p",{staticClass:"text-gray-600 mb-3"},[t._v(t._s(t.currentProduct.description))]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"bg-gray-200 mb-3 focus:bg-white shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",staticStyle:{height:"100px"},attrs:{placeholder:"Notes"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}}),t._v(" "),r("button",{staticClass:"block bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",attrs:{type:"button"},on:{click:function(e){return t.addItem(t.currentProduct)}}},[t._v("\n      Add to Cart\n    ")])]):t._e(),t._v(" "),t.completeOrder?r("div",{staticClass:"bg-white rounded p-6 shadow",staticStyle:{left:"50%",top:"20%",position:"fixed",width:"600px","margin-left":"-300px","z-index":"999"},attrs:{id:"order-info"}},[r("h2",{staticClass:"text-2xl text-gray-600 font-bold mb-2"},[t._v("Place Your Order Now")]),t._v(" "),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2"},[t._v("\n        Name\n      ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.customerName,expression:"customerName"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"name",type:"text",placeholder:"Name"},domProps:{value:t.customerName},on:{input:function(e){e.target.composing||(t.customerName=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2"},[t._v("\n        Phone Number\n      ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.customerPhone,expression:"customerPhone"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"phone",type:"text",placeholder:"Phone Number"},domProps:{value:t.customerPhone},on:{input:function(e){e.target.composing||(t.customerPhone=e.target.value)}}})]),t._v(" "),r("button",{staticClass:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",attrs:{type:"button"},on:{click:function(e){return t.placeOrder()}}},[t._v("\n      Place Order\n    ")])]):t._e(),t._v(" "),r("div",{staticClass:"container py-8"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._l(t.menu.categories,(function(e){return r("section",{staticClass:"mb-12 bg-gray-200 p-4 rounded-md"},[r("h3",{staticClass:"text-xl rounded text-gray-800"},[t._v(t._s(e.name))]),t._v(" "),r("p",{staticClass:"text-sm mb-3 rounded text-gray-500"},[t._v(t._s(e.description))]),t._v(" "),t._l(e.menus,(function(e){return r("div",{staticClass:"bg-white rounded-md p-4 mb-2 cursor-pointer hover:shadow-lg transition-all duration-500",on:{click:function(r){return t.getProduct(e)}}},[r("h4",{staticClass:"font-bold text-gray-800"},[t._v(t._s(e.name)+" "),r("span",{staticClass:"float-right font-bold"},[t._v("$"+t._s(e.price))])]),t._v(" "),r("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(e.description))])])}))],2)})),t._v(" "),t._m(3)],2),t._v(" "),r("div",{staticClass:"shadow border-l p-4",attrs:{id:"sidebar"}},[r("h4",{staticClass:"font-bold text-xl border-b mb-3 pb-3 border-gray-200"},[t._v("Your Order")]),t._v(" "),t._l(t.summary,(function(e,n){return r("div",{staticClass:"rounded border-b border-gray-200 mb-3 pb-3"},[r("span",{staticClass:"font-medium"},[t._v(t._s(e.name))]),t._v(" "),r("span",{staticClass:"float-right py-1 px-2 bg-gray-500 text-white rounded-full ml-2 cursor-pointer hover:bg-gray-700",staticStyle:{"font-size":".65rem"},on:{click:function(e){return t.removeItem(n)}}},[r("i",{staticClass:"fas fa-times"})]),t._v(" "),r("span",{staticClass:"float-right"},[t._v("$"+t._s(e.price))]),t._v(" "),e.notes?r("p",{staticClass:"mx-5 py-1 text-xs text-gray-500 italic"},[t._v('"'+t._s(e.notes)+'"')]):t._e()])})),t._v(" "),r("div",{staticStyle:{position:"fixed",bottom:"75px",width:"270px"}},[r("div",{staticClass:"font-bold"},[t._v("Food & Beverage Total "),r("span",{staticClass:"float-right"},[t._v("$"+t._s(t.totalSummary))])]),t._v(" "),r("small",{staticClass:"block text-gray-500"},[t._v("* HST included")])]),t._v(" "),r("button",{staticClass:"w-full font-bold inline-flex items-center justify-center px-6 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-red-600 hover:bg-red-500 focus:outline-none focus:border-red-700 focus:shadow-outline-red active:bg-red-700 transition ease-in-out duration-150",staticStyle:{position:"fixed",bottom:"10px",width:"270px"},attrs:{type:"button"},on:{click:function(e){t.completeOrder=!0}}},[t._v("\n      CHECKOUT\n    ")])],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"rounded-lg bg-green-400 text-xs text-white py-1 px-2 font-bold uppercase",staticStyle:{position:"absolute",top:"10px",left:"10px"}},[e("i",{staticClass:"fad fa-check-circle mr-1"}),this._v(" We Are Open")])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("img",{staticStyle:{"max-width":"300px",margin:"0 auto"},attrs:{src:"logo.png",alt:"SoupChef"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("main",{staticClass:"py-8"},[e("h2",{staticClass:"text-center mb-2 text-5xl font-black text-gray-800"},[this._v("Place Your Pickup Order")]),this._v(" "),e("h2",{staticClass:"text-center mb-2 text-xl text-gray-700"},[this._v("Available from 10am-4pm Mon-Friday")]),this._v(" "),e("p",{staticClass:"text-center mb-6 text-gray-500 italic text-xs"},[this._v("Select the items you want, view order summary and checkout")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-stretch -mx-2"},[r("div",{staticClass:"w-1/3 self-center px-2"},[r("img",{staticClass:"rounded-lg",attrs:{src:"soupchef-truck.jpg",alt:""}})]),t._v(" "),r("div",{staticClass:"w-2/3 self-center px-6"},[r("h3",{staticClass:"text-xl font-black mb-2 text-gray-800"},[t._v("Pickup Your Order @ the SoupChef Truck")]),t._v(" "),r("p",{staticClass:"text-gray-700 mb-4"},[t._v("Soup Chef Food Truck in Fairfield Park Amherstview is locally owned & operated serving Great home made food overlooking Beautiful Lake Ontario")]),t._v(" "),r("p",{staticClass:"text-gray-600 mb-1"},[r("i",{staticClass:"far fa-truck mr-1"}),t._v(" 4574 Bath Rd, Amherstview, Ontario, Canada")]),t._v(" "),r("p",{staticClass:"text-gray-600 mb-1"},[r("i",{staticClass:"far fa-phone mr-1"}),t._v(" (613) 453-0449")]),t._v(" "),r("p",{staticClass:"text-gray-600 mb-1"},[r("i",{staticClass:"far fa-envelope mr-1"}),t._v(" inquiries@soupchef.ca")])])])}],!1,null,"f6659c6c",null);e.default=component.exports}}]);